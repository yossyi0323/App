# 場所選択（place-selector.tsx）テスト仕様書

## 1. テスト概要

場所選択コンポーネントの主要機能をテストし、以下の点を確認します：

- 場所リストの表示
- 場所の選択
- フィルタリング機能
- プレースホルダーの表示

## 2. テストケース

### 2.1 初期表示テスト

#### 確認条件

- コンポーネントを表示した時の初期状態

#### 想定結果

- 場所選択ドロップダウンが表示される
- 指定されたタイプの場所のみがリストに表示される
- プレースホルダーが正しく表示される
- 選択値が正しく表示される

### 2.2 場所選択テスト

#### 確認条件

- 場所を選択した時

#### 想定結果

- `onPlaceChange`コールバックが呼ばれる
- 選択した場所のIDが正しく渡される
- 選択値が正しく表示される

### 2.3 フィルタリングテスト

#### 確認条件

- 異なるタイプの場所が混在するリストを表示した時

#### 想定結果

- 指定されたタイプの場所のみが表示される
- 他のタイプの場所は表示されない

### 2.4 プレースホルダーテスト

#### 確認条件

- 場所が未選択の場合

#### 想定結果

- タイプに応じた適切なプレースホルダーが表示される
- プレースホルダーのスタイルが正しく適用される

## 3. テストデータ

### 3.1 モックデータ

```typescript
const mockPlaces = [
  {
    place_id: '1',
    place_name: '倉庫A',
    place_type: 'DESTINATION',
  },
  {
    place_id: '2',
    place_name: '倉庫B',
    place_type: 'DESTINATION',
  },
  {
    place_id: '3',
    place_name: '工場A',
    place_type: 'FACTORY',
  },
];

const mockProps = {
  places: mockPlaces,
  selectedPlaceId: null,
  onPlaceChange: jest.fn(),
  type: 'DESTINATION',
  className: 'w-full',
};
```

## 4. テスト実行手順

1. テスト環境のセットアップ

   ```bash
   npm install
   npm test
   ```

2. 特定のテストの実行
   ```bash
   npm test place-selector.test.tsx
   ```

## 5. 注意事項

- 場所のフィルタリングが正しく機能することを確認
- コールバック関数が適切なタイミングで呼ばれることを確認
- プレースホルダーの表示が正しいことを確認
- スタイリングが正しく適用されていることを確認
