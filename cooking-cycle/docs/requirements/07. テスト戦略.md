# テスト戦略（概要）

## 基本方針

**非常に細かくテストを書く**

- マージリクエストを出したら自動でテストが回る
- エラーが出ないレベルまでテストを書く
- 長いこと使っていくアプリなので、変更に強いコードを書く

## ユニットテスト（Vitest）

### テスト範囲

- **ビジネスロジック：** レシピ検索、ストックマッチング、フィルタリング
- **データ変換：** APIレスポンスの変換、フォームデータのバリデーション
- **ユーティリティ関数：** 日付計算、文字列処理など

### テスト方針

- 各関数・メソッドに対してテストを書く
- エッジケースもテストする
- モックを適切に使う

## E2Eテスト（Playwright）

### テスト範囲

- **主要フロー：** レシピ登録、ストック登録、献立決定
- **画面遷移：** 主要な画面遷移をテスト
- **フォーム入力：** レシピ登録、ストック登録のフォーム

### テスト方針

- 主要なユースケースをカバー
- モバイル・PC両方のビューポートでテスト
- 実際のユーザー操作をシミュレート

## CI/CD統合

- マージリクエスト時に自動でテストが実行される
- テストが通らないとマージできない
- デプロイ前に必ずテストが通ることを確認

## テストデータ

- テスト用のデータセットを用意
- 各テストで独立したデータを使う
- テスト後にデータをクリーンアップ

