---
description: プロジェクトの現在状態（意味記憶）
alwaysApply: true
---

# プロジェクト状態記憶

## 関連記憶

このファイルを参照するときは、以下も読むと文脈が理解できる：
- `secretary-behavior.mdc`: 秘書としての提案行動
- `App/ai/{yyyyMMdd}.log`: 時系列のエピソード記憶

## このファイルの役割

**目的：** プロジェクトの「今の状態」を保持する意味記憶

**ai.logとの違い：**
- ai.log = エピソード記憶（時系列の出来事、A→B→Cと変遷）
- このファイル = 意味記憶（現在の状態、最新はCである）

**更新方法：**
- プロジェクトの決定事項が変わったら上書き
- 最終更新日を記録
- 古い情報は削除または履歴セクションへ移動

---

## テスト実行ルール（重要）

### E2Eテストの実行方法（3回目の指摘 - 2025-11-21）

**E2Eテストは必ずコマンドライン出力で完結する方式で実行すること**

- **禁止**: ブラウザを開いて結果を表示するモード（`playwright test --ui`など）
- **推奨**: `playwright test` または `npx playwright test --reporter=list` コマンドでコマンドライン出力のみで結果を確認
- **設定**: `playwright.config.ts`の`reporter`は`[['list'], ['json', { outputFile: 'test-results/results.json' }]]`を使用（HTMLレポートは除外）
- **理由**: AIが結果を確認できないと意味がないため、必ずコマンドライン出力で完結させる

**設定例:**
```typescript
reporter: [['list'], ['json', { outputFile: 'test-results/results.json' }]]
```

**実行コマンド:**
```bash
npm run test:e2e
# または
npx playwright test --reporter=list
```

**注意**: このルール違反は既に3回指摘されている。今後は必ず守ること。

---

## nextday-operations-prepare

### 現在のステータス
- **フェーズ:** Phase 0完了、Phase 1（要件定義）着手前
- **最終更新:** 2025-10-27

### 技術スタック（確定）
- **Frontend:** Vue.js + shadcn-vue
- **Backend:** Spring Boot + Springdoc OpenAPI
- **Database:** PostgreSQL + A5:SQL Mk-2
- **Documentation:** Obsidian Vault集中管理

### 未決定の重要事項
- 認証方式（Google OAuth vs email/password）
- セッション管理（JWT vs Cookie vs localStorage）
- 認可設計（RBAC vs simple role-based）
- 排他制御（楽観ロック推奨だが未実装）

### 次のアクション
- 認証方式の選定（最優先）
- ADR記録必須

---

## Tools/auto-save

### 現在のステータス
- **状態:** 完成
- **最終更新:** 2025-10-27

### 概要
- TypeScript製、フレームワーク非依存
- デバウンス3秒のみ（シンプル設計）
- 40テスト全パス
- README、デモアプリ完備

---

## 記憶の更新ルール

1. プロジェクトの状態が変わったら、このファイルを更新
2. 「決定 → 変更 → 再変更」の履歴はai.logに残す
3. このファイルには「最新の状態」のみ記録
4. 大きな変更の場合は「履歴」セクションに簡潔に残す
5. ファイルが大きくなりすぎたら、プロジェクト別に分割を検討
